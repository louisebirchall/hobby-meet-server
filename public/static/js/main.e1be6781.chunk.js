(this["webpackJsonphobby-meet-client"]=this["webpackJsonphobby-meet-client"]||[]).push([[0],{200:function(e,t,n){},219:function(e,t,n){},268:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(40),r=n.n(c),s=(n(200),n(15)),o=n(11),l=n(16),d=n(19),h=n(18),j=n(29),u=n(37),p=n.n(u),b=new function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,n,a){return t.service.post("/signup",{username:e,email:n,password:a},{withCredentials:!0})},this.login=function(e,n){return console.log("logging"),t.service.post("/login",{username:e,password:n})},this.logout=function(){return t.service.post("/logout")},this.loggedin=function(){return t.service.get("/loggedin",{withCredentials:!0})},this.service=p.a.create({baseURL:"".concat("http://localhost:5005/api","/auth"),withCredentials:!0})},m=(n(219),n(9)),x=n(17),O=n(3),g=n(159),f=n.n(g),v=n(6),y=n(334),C=n(39),w=n(0),S=Object(v.a)("div")((function(e){var t=e.theme;return Object(O.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(y.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(y.a)(t.palette.common.black,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})})),k=Object(v.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),D=Object(v.a)(C.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(O.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),P=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={search:"",type:"all",showSearchBar:!1,redirect:!1},e.handleSubmit=function(t){t.preventDefault(),e.setState({redirect:!0})},e.handleChange=function(t){var n=t.target,a=n.name,i=n.value;e.setState(Object(O.a)({},a,i))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state;e.search;return e.redirect?Object(w.jsx)(j.a,{to:{pathname:"/search",search:"?q=".concat(this.state.search,"&type=").concat(this.state.type)}}):Object(w.jsx)("div",{children:Object(w.jsx)("form",{onSubmit:this.handleSubmit,children:Object(w.jsxs)(S,{onChange:this.handleChange,children:[Object(w.jsx)(k,{children:Object(w.jsx)(f.a,{})}),Object(w.jsx)(D,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"},name:"search"})]})})})}}]),n}(a.Component),_=P,I=n(377),L=n(340),A=n(378),F=n(380),U=n(379),B=n(163),T=n.n(B),E=n(368),M=n(347),R=n(341),z=n(168),W=Object(z.a)({palette:{primary:{main:"#3aefd5"},secondary:{main:"#edb5f7"}},typography:{fontFamily:"'Montserrat', sans-serif",textTransform:"none",textDecoration:"none",color:"black"},button:{textTransform:"none"}}),H=n(381),N=n(169);var q=function(e){var t=e.isLoggedIn,n=e.user,i=e.setUser,c=a.useState(null),r=Object(m.a)(c,2),s=r[0],o=r[1];return Object(w.jsx)(L.a,{sx:{flexGrow:1},children:Object(w.jsx)(R.a,{theme:W,children:Object(w.jsx)(I.a,{position:"static",style:{backgroundColor:"#3aefd5",Typography:"Montserrat",marginBottom:"20px"},children:Object(w.jsxs)(A.a,{disableGutters:!0,children:[Object(w.jsx)(U.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}}}),Object(w.jsxs)(L.a,{sx:{flexGrow:1,display:{xs:"flex",md:"flex"}},children:[Object(w.jsx)(F.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit",children:Object(w.jsx)(T.a,{})}),Object(w.jsx)(N.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(s),onClose:function(){o(null)},sx:{display:{xs:"block",md:"block"}},children:Object(w.jsxs)(H.a,{children:[Object(w.jsx)(E.a,{component:x.b,to:"/",children:"Home"}),Object(w.jsx)(E.a,{component:x.b,to:"/users",children:"All users"}),Object(w.jsx)(E.a,{component:x.b,to:"/hobbies",children:"Hobbies"}),Object(w.jsx)(E.a,{component:x.b,to:"/events",children:"Events"}),Object(w.jsx)(E.a,{component:x.b,to:"/charities",children:"Charities"}),Object(w.jsx)(E.a,{component:x.b,to:"/products",children:"Products"}),Object(w.jsx)(E.a,{component:x.b,to:"/contact",children:"Contact us"})]})})]}),Object(w.jsx)(U.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}},children:Object(w.jsx)(E.a,{href:"/",style:{fontWeight:"bold"},children:"HobbyMeet"})}),Object(w.jsx)(L.a,{sx:{flexGrow:1}}),Object(w.jsx)(_,{}),Object(w.jsx)(L.a,{sx:{display:{xs:"none",md:"flex"}},style:{paddingRight:5},children:Object(w.jsx)("ul",{children:Object(w.jsxs)(M.a,{direction:"row",spacing:2,children:[t&&n&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("li",{children:Object(w.jsx)(x.c,{to:"/users/".concat(n._id),children:Object(w.jsx)(E.a,{variant:"contained",color:"secondary",children:"Profile"})})}),Object(w.jsx)("li",{children:Object(w.jsx)(x.c,{to:"/",children:Object(w.jsx)(E.a,{variant:"contained",color:"secondary",onClick:function(){b.logout().then((function(){i(null,!1)}))},children:"Logout"})})})]}),!t&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("li",{children:Object(w.jsx)(x.c,{exact:!0,to:"/signup",children:Object(w.jsx)(E.a,{variant:"contained",color:"primary",children:"Signup"})})}),Object(w.jsx)("li",{children:Object(w.jsx)(x.c,{to:"/login",children:Object(w.jsx)(E.a,{variant:"contained",color:"primary",children:"Login"})})})]})]})})})]})})})})},G=n.p+"static/media/hobbies.aaef8060.png",V=n(276),Y=n(348),Q={paperContainer:{backgroundImage:"url(".concat(G,")"),height:"500px"},h1Styles:{display:"flex",justifyContent:"center",textAlign:"center",marginLeft:50,marginRight:50,textShadowColor:"#3aefd5",textShadowOffset:{width:2,height:2},textShadowRadius:4}},J=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(w.jsx)("div",{height:"500px",children:Object(w.jsx)(V.a,{maxWidth:"sm",style:Q.paperContainer,children:Object(w.jsxs)(Y.a,{sx:{height:400,paddingTop:5,display:"flex",flexDirection:"column",gap:10,justifyContent:"center",alignItems:"center"},children:[Object(w.jsx)("h1",{style:Q.h1Styles,children:Object(w.jsx)("span",{style:{borderRadius:"4px",padding:"6px 16px 6px 16px"},children:"Find people to share your hobbies with, or even find a new one, while contributing to a good cause!"})}),Object(w.jsx)(x.b,{to:"/signup",children:Object(w.jsx)(E.a,{color:"primary",variant:"contained",children:"Join Today"})})]})})})}}]),n}(a.Component),Z=J,X=n(349),K=n(277),$=n(386),ee=n(350),te=new function e(){var t=this;Object(o.a)(this,e),this.create=function(e,n,a,i,c){return t.service.post("/create",{name:e,typeOfActivity:n,description:a,placeOfActivity:i,image:c})},this.edit=function(e,n,a,i,c,r){return t.service.patch("/".concat(e),{name:n,typeOfActivity:a,description:i,placeOfActivity:c,image:r})},this.delete=function(e){return t.service.delete("/".concat(e))},this.getHobby=function(e){return t.service.get("/".concat(e))},this.getHobbies=function(){return t.service.get()},this.createPost=function(e,n,a){return t.service.post("/".concat(e,"/posts/create"),{description:n,image:a})},this.getRandom=function(e){return t.service.get("/random/".concat(e))},this.service=p.a.create({baseURL:"".concat("http://localhost:5005/api","/hobbies"),withCredentials:!0})},ne=n.p+"static/media/bookBitch.bbff5745.png",ae={divStyle:{display:"flex",flexDirection:"row",gap:20,justifyContent:"space-evenly",paddingTop:20,paddingBottom:20,textAlign:"center"},buttonStyle:{display:"flex",justifyContent:"center"}},ie=Object(w.jsx)(i.a.Fragment,{children:Object(w.jsxs)(X.a,{style:{display:"flex",flexDirection:"column",alignContent:"space-around"},children:[Object(w.jsx)(K.a,{variant:"h3",gutterBottom:!0,children:"Hobbies"}),Object(w.jsx)(K.a,{variant:"h5",children:"This is the place where you can search for your favourite hobby and either find others who are into it, or see what hobbies people are doing in your area."}),Object(w.jsx)(Y.a,{sx:{height:10}}),Object(w.jsx)(x.b,{style:ae.buttonStyle,exact:!0,to:"/hobbies",children:Object(w.jsx)(E.a,{color:"primary",variant:"contained",children:"See all the Hobbies"})})]})}),ce=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={event:null},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;te.getRandom(1).then((function(t){console.log(t),e.setState({event:t.data[0]})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(w.jsxs)("div",{style:ae.divStyle,children:[Object(w.jsx)($.a,{sx:{maxWidth:550,boxShadow:"-12px 12px 64px 0 #F0FFF0"},variant:"outlined",children:ie}),Object(w.jsxs)($.a,{sx:{maxWidth:550,boxShadow:"-12px 12px 64px 0 #F0FFF0"},variant:"outlined",children:[Object(w.jsx)(ee.a,{component:"img",height:"250",image:ne,alt:"happy readers in the pub"}),Object(w.jsxs)(X.a,{children:[Object(w.jsx)(K.a,{gutterBottom:!0,variant:"h4",component:"div",children:"What's your pleasure?"}),Object(w.jsx)(K.a,{variant:"h5",children:"With everything going on in the world these days, and let's be honest, beforehand, it's the perfect time to get into a hobby. Whether you're looking for a group of like-minded people to enjoy your hobby with, looking for a new hobby to pass the time, or just seeing what's going on around you; there's plenty here to keep you occupied."})]})]})]})}}]),n}(a.Component),re=ce,se=n(351),oe=new function e(){var t=this;Object(o.a)(this,e),this.create=function(e,n,a,i,c,r,s,o,l,d,h,j,u){return t.service.post("/create",{image:e,title:n,description:a,equipment:i,date:c,user_id:r,attendees:s,attendees_max:o,attendees_min:l,pricePolicy:d,price:h,location:j,organizedBy:u})},this.edit=function(e,n,a,i,c,r,s,o,l,d,h,j,u,p){return t.service.patch("/".concat(e),{image:n,title:a,description:i,equipment:c,date:r,user_id:s,attendees:o,attendees_max:l,attendees_min:d,pricePolicy:h,price:j,location:u,organizedBy:p})},this.delete=function(e){return t.service.delete("/".concat(e))},this.getEvent=function(e){return t.service.get("/".concat(e))},this.getEvents=function(){return t.service.get()},this.createPost=function(e,n,a){return t.service.post("/".concat(e,"/posts/create"),{description:n,image:a})},this.createReview=function(e,n){return t.service.post("/".concat(e,"/reviews/create"),{likes:n})},this.attend=function(e){return t.service.post("/".concat(e,"/attend"))},this.getRandom=function(e){return t.service.get("/random/".concat(e))},this.service=p.a.create({baseURL:"".concat("http://localhost:5005/api","/events"),withCredentials:!0})},le={divStyle:{display:"flex",flexDirection:"row",gap:20,justifyContent:"space-evenly",paddingTop:20,paddingBottom:60,textAlign:"center"},buttonStyle:{display:"flex",justifyContent:"center"}},de=Object(w.jsx)(i.a.Fragment,{children:Object(w.jsxs)(X.a,{style:{display:"flex",flexDirection:"column",alignContent:"space-around"},children:[Object(w.jsx)(K.a,{variant:"h3",gutterBottom:!0,children:"Events"}),Object(w.jsx)(K.a,{variant:"h5",children:"If you want to find other like-minded people to enjoy your hobbies with you can find then via events, or even set up your own! What are you waiting for?"}),Object(w.jsx)(Y.a,{sx:{height:10}}),Object(w.jsx)(x.b,{style:le.buttonStyle,exact:!0,to:"/events",children:Object(w.jsx)(E.a,{color:"primary",variant:"contained",children:"See all the Events"})})]})}),he=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={event:null},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;oe.getRandom(1).then((function(t){console.log(t),e.setState({event:t.data[0]})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.event;return Object(w.jsxs)("div",{style:le.divStyle,children:[e&&Object(w.jsxs)(se.a,{sx:{maxWidth:550,boxShadow:"-12px 12px 64px 0 #F0FFF0"},variant:"outlined",children:[Object(w.jsx)(ee.a,{component:"img",height:"250",image:e.image,alt:e.title}),Object(w.jsxs)(X.a,{children:[Object(w.jsx)(K.a,{gutterBottom:!0,variant:"h4",component:"div",children:e.title}),Object(w.jsx)(K.a,{variant:"h5",children:e.description})]})]}),Object(w.jsx)(se.a,{sx:{boxShadow:"-12px 12px 64px 0 #F0FFF0"},variant:"outlined",style:{maxWidth:550},children:de})]})}}]),n}(a.Component),je=he,ue=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)(Z,{}),Object(w.jsx)(re,{}),Object(w.jsx)(je,{})]})}}]),n}(a.Component),pe=ue,be=n(352),me=n(364),xe=function(){return Object(w.jsx)(I.a,{style:{backgroundColor:"#3aefd5"},sx:{top:"auto",bottom:0},maxWidth:"xl",children:Object(w.jsxs)(be.a,{container:!0,spacing:5,children:[Object(w.jsxs)(be.a,{item:!0,xs:12,md:6,lg:4,xl:4,children:[Object(w.jsx)(me.a,{borderBottom:1,children:Object(w.jsx)(K.a,{variant:"h6",children:"HobbyMeet"})}),Object(w.jsxs)(me.a,{children:["Louise, Florian & Carolina \xae ",(new Date).getFullYear()," IronHack"]})]}),Object(w.jsxs)(be.a,{item:!0,xs:12,md:6,lg:4,xl:4,style:{display:"flex",justifyContent:"space-around",alignItems:"center"},children:[Object(w.jsx)(x.c,{exact:!0,to:"/",children:"Home"}),Object(w.jsx)(x.c,{exact:!0,to:"/hobbies",children:"Hobbies"}),Object(w.jsx)(x.c,{exact:!0,to:"/events",children:"Events"}),Object(w.jsx)(x.c,{exact:!0,to:"/charities",children:"Charities"}),Object(w.jsx)(x.c,{exact:!0,to:"/products",children:"Products"}),Object(w.jsx)(x.c,{exact:!0,to:"/contact",children:"Contact Us"})]})]})})},Oe=n(370),ge=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={username:"",email:"",password:"",error:""},e.handleChange=function(t){var n=t.target,a=n.name,i=n.value;e.setState(Object(O.a)({},a,i))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,i=n.email,c=n.password;b.signup(a,i,c).then((function(t){e.setState({username:"",email:"",password:""}),e.props.setUser(t.data,!0),e.props.history.push("/users/".concat(t.data._id))})).catch((function(t){e.setState({error:t.response.data.errorMessage})}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,a=e.password,i=e.error;return Object(w.jsxs)("div",{style:{paddingBottom:60},children:[Object(w.jsx)("form",{onSubmit:this.handleSubmit,children:Object(w.jsxs)(Y.a,{sx:{"& > :not(style)":{m:1,width:"35ch"},display:"flex",flexDirection:"column",alignItems:"center",paddingTop:10},children:[Object(w.jsx)(U.a,{style:{textAlign:"center"},children:"Sign up below to join the fun"}),Object(w.jsx)(Oe.a,{id:"outlined-basic",label:"Username",variant:"outlined",type:"text",name:"username",value:t,onChange:this.handleChange}),Object(w.jsx)(Oe.a,{id:"outlined-basic",label:"Email",variant:"outlined",type:"text",name:"email",value:n,onChange:this.handleChange}),Object(w.jsx)(Oe.a,{id:"outlined-basic",label:"Password",variant:"outlined",type:"password",name:"password",value:a,onChange:this.handleChange}),Object(w.jsx)(E.a,{onSubmit:this.handleSubmit,type:"submit",color:"primary",variant:"outlined",children:"Signup"})]})}),Object(w.jsx)("div",{style:{display:"flex",justifyContent:"center",color:"#edb5f7",fontWeight:"bold"},children:i&&Object(w.jsx)("p",{children:i})})]})}}]),n}(a.Component),fe=ge,ve=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={username:"",password:"",error:""},e.handleChange=function(t){var n=t.target,a=n.name,i=n.value;e.setState(Object(O.a)({},a,i))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,i=n.password;b.login(a,i).then((function(t){e.setState({username:"",password:""}),e.props.setUser(t.data.user,!0),e.props.history.push("/users/".concat(t.data.user._id))})).catch((function(t){e.setState({error:t.response.data.errorMessage})}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,a=e.error;return Object(w.jsxs)("div",{style:{paddingBottom:60},children:[Object(w.jsx)("form",{onSubmit:this.handleSubmit,children:Object(w.jsxs)(Y.a,{sx:{"& > :not(style)":{m:1,width:"35ch"},display:"flex",flexDirection:"column",alignItems:"center",paddingTop:10},children:[Object(w.jsx)(U.a,{style:{textAlign:"center"},children:"Please log in below"}),Object(w.jsx)(Oe.a,{id:"outlined-basic",label:"Username",variant:"outlined",type:"text",name:"username",value:t,onChange:this.handleChange}),Object(w.jsx)(Oe.a,{id:"outlined-basic",label:"Password",variant:"outlined",type:"password",name:"password",value:n,onChange:this.handleChange}),Object(w.jsx)(E.a,{onSubmit:this.handleSubmit,type:"submit",color:"primary",variant:"outlined",children:"Login"})]})}),Object(w.jsx)("div",{style:{display:"flex",justifyContent:"center",color:"#edb5f7",fontWeight:"bold"},children:a&&Object(w.jsx)("p",{children:a})})]})}}]),n}(a.Component),ye=ve,Ce=new function e(){var t=this;Object(o.a)(this,e),this.edit=function(e,n,a,i,c,r,s,o,l){return t.service.patch("/".concat(e),{username:n,email:a,fullName:i,image:c,sex:r,age:s,type:o,hobbies:l})},this.delete=function(e){return t.service.delete("".concat(e))},this.getUser=function(e){return t.service.get("/".concat(e))},this.getUsers=function(){return t.service.get()},this.service=p.a.create({baseURL:"".concat("http://localhost:5005/api","/auth/profiles"),withCredentials:!0})},we=Ce,Se=n(353),ke=n(22),De=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={user:null,isLoading:!0},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;we.getUser(t).then((function(t){e.setState({user:t.data,isLoading:!1})})).catch((function(t){403===t.response.status&&e.props.history.push("/login")}))}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.isLoading;return Object(w.jsxs)(Se.a,{style:{paddingBottom:60},children:[n&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),Object(w.jsx)(se.a,{sx:{display:"flex"},children:!n&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(me.a,{align:"center",style:{marginBottom:10},sx:{flex:"1 0 auto"},children:Object(w.jsxs)(K.a,{variant:"h2",children:["Welcome ",t.username]})}),Object(w.jsx)(me.a,{children:Object(w.jsxs)(X.a,{style:{display:"flex",flexDirection:"row",flex:"1 0 auto"},children:[Object(w.jsx)(ee.a,{component:"img",image:t.image,alt:t.username,style:{borderRadius:"50%",borderStyle:"solid",borderWidth:"thin",borderColor:"#3AEFD5",width:250,marginRight:50}}),Object(w.jsxs)(me.a,{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Full name - ",t.fullName]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Email -",t.email]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Age - ",t.age]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["User type - ",t.type]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Are you an admin?- ",t.isAdmin]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Gender - ",t.sex]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Hobbies - ",t.hobbies]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Attending events- ",t.events]}),Object(w.jsx)(me.a,{align:"center",style:{marginTop:30},children:Object(w.jsx)(E.a,{color:"primary",variant:"contained",component:x.c,to:"/users/".concat(t._id,"/edit"),children:"Edit Profile"})})]})]})})]})})]})}}]),n}(a.Component),Pe=De,_e=new function e(){var t=this;Object(o.a)(this,e),this.upload=function(e){return t.service.post("/upload",e)},this.search=function(e,n){return t.service.get("/search",{params:{search:e,type:n}})},this.service=p.a.create({baseURL:"http://localhost:5005/api",withCredentials:!0})},Ie=n(382),Le=n(369),Ae=n(366),Fe=n(387),Ue=n(389),Be=n(373),Te=n(55),Ee=n.n(Te),Me=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={username:"",email:"",fullName:"",image:"",sex:"",age:"",isAdmin:"",type:"",hobbies:"",imageIsUploading:!1},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var n=new FormData;n.append("image",t.target.files[0]),_e.upload(n).then((function(t){e.setState({image:t.data.imagePath,imageIsUploading:!1})})).catch((function(){return e.props.history.push("/500")}))},e.handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,i=n.email,c=n.fullName,r=n.image,s=n.sex,o=n.age,l=n.isAdmin,d=n.type,h=e.props.match.params.id;e.props.isEdit?we.edit(h,a,i,c,r,s,o,d).then((function(t){console.log(t),e.props.history.push("/users/".concat(h))})).catch((function(t){e.props.history.push("/500")})):we.create(h,a,i,c,r,s,o,l,d).then((function(t){e.props.history.push("/users/".concat(t.data._id))})).catch((function(t){e.props.history.push("/500")}))},e.handleDelete=function(){var t=e.props.match.params.id;we.delete(t).then((function(t){e.props.history.push("/signup")})).catch((function(t){e.props.history.push("/500")}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;t&&we.getUser(t).then((function(t){e.setState({username:t.data.username,email:t.data.email,fullName:t.data.fullName,image:t.data.image,sex:t.data.sex,age:t.data.age,isAdmin:t.data.isAdmin,type:t.data.type})})).catch((function(t){e.props.history.push("/500")}))}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,a=e.fullName,i=e.image,c=e.sex,r=e.age,s=e.type,o=e.imageIsUploading;return Object(w.jsx)(Ie.a,{align:"justify",style:{paddingBottom:60},children:Object(w.jsx)(se.a,{children:Object(w.jsxs)(L.a,{sx:{"& > :not(style)":{m:1,width:"50ch"},"& .MuiTextField-root":{m:1,width:"50ch"},display:"flex",flexDirection:"column",alignItems:"center"},noValidate:!0,autoComplete:"off",children:[Object(w.jsxs)("div",{align:"center",children:[Object(w.jsx)("h2",{children:"Profile Changes"}),Object(w.jsx)("h3",{children:"Please update your profile"})]}),Object(w.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(w.jsxs)("div",{align:"center",children:[i&&Object(w.jsx)("img",{style:{borderRadius:100,marginBottom:10},src:i,alt:"postImg",width:"150px"}),Object(w.jsx)(ke.PuffLoader,{loading:o,size:"100px",color:"orchid"})]}),Object(w.jsx)("div",{align:"center",children:Object(w.jsx)("label",{htmlFor:"contained-button-file",children:Object(w.jsx)(Fe.a,{accept:"image/*",type:"file",onChange:this.handleImageUpload})})}),Object(w.jsx)(Oe.a,{style:{marginTop:20},onChange:this.handleChange,id:"outlined-basic",label:"Username",variant:"outlined",name:"username",value:t}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-basic",label:"Full name",variant:"outlined",name:"fullName",value:a}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-basic",label:"@",variant:"outlined",name:"email",value:n}),Object(w.jsxs)(Ue.a,{sx:{m:1,width:530},children:[Object(w.jsx)(Be.a,{id:"demo-multiple-name-label",children:"Sex"}),Object(w.jsxs)(Ae.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:c,label:"Sex",name:"sex",onChange:this.handleChange,children:[Object(w.jsx)(Le.a,{value:"Female",children:"Female"}),Object(w.jsx)(Le.a,{value:"Male",children:"Male"})]})]}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-basic",label:"Age",variant:"outlined",name:"age",type:"number",value:r}),Object(w.jsxs)(Ue.a,{sx:{m:1,width:530},children:[Object(w.jsx)(Be.a,{id:"label",children:"Type of user"}),Object(w.jsxs)(Ae.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:s,name:"type",label:"Type of user",onChange:this.handleChange,children:[Object(w.jsx)(Le.a,{value:"Company",children:"Company"}),Object(w.jsx)(Le.a,{value:"User",children:"User"})]})]}),Object(w.jsx)("div",{style:{marginTop:10,display:"flex",justifyContent:"space-around"},children:Object(w.jsx)(E.a,{color:"primary",variant:"outlined",type:"submit",disabled:o,children:"Save changes!"})})]}),Object(w.jsxs)("div",{align:"center",style:{marginBottom:30},children:[Object(w.jsx)("p",{children:"Do you want to delete your profile?"}),Object(w.jsx)(E.a,{type:"submit",color:"secondary",variant:"contained",startIcon:Object(w.jsx)(Ee.a,{}),onClick:this.handleDelete,children:"Delete"})]})]})})})}}]),n}(a.Component),Re=Me,ze=n(354),We=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={listOfProfiles:null,isLoading:!0},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;we.getUsers().then((function(t){e.setState({listOfProfiles:t.data,isLoading:!1})})).catch((function(e){}))}},{key:"render",value:function(){var e=this.state,t=e.listOfProfiles,n=e.isLoading;return Object(w.jsxs)(Se.a,{style:{paddingBottom:60},children:[Object(w.jsx)(K.a,{variant:"h2",children:"All The Profiles"}),Object(w.jsxs)(be.a,{container:!0,spacing:3,children:[n&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),!n&&t.map((function(e){return Object(w.jsx)(be.a,{item:!0,children:Object(w.jsxs)(se.a,{xs:12,md:6,lg:4,children:[Object(w.jsx)(ee.a,{children:e.image&&Object(w.jsx)("img",{src:e.image,alt:e.name,width:"200px"})}),Object(w.jsx)(X.a,{sx:{flex:"1 0 auto"},children:Object(w.jsx)(K.a,{component:"div",variant:"h4",children:e.title})}),Object(w.jsx)(ze.a,{children:Object(w.jsx)(E.a,{children:Object(w.jsx)(x.b,{to:"/users/".concat(e._id),children:e.username})})})]})},e._id)}))]})]})}}]),n}(a.Component),He=We,Ne=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={listOfHobbies:null,isLoading:!0},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;te.getHobbies().then((function(t){e.setState({listOfHobbies:t.data,isLoading:!1})})).catch((function(e){}))}},{key:"render",value:function(){var e=this.state,t=e.listOfHobbies,n=e.isLoading,a=this.props.user;return Object(w.jsxs)(Se.a,{style:{paddingBottom:60},children:[Object(w.jsx)("div",{align:"center",style:{marginBottom:10},children:Object(w.jsx)(K.a,{variant:"h2",children:"All The Hobbies"})}),Object(w.jsxs)(be.a,{container:!0,spacing:3,style:{display:"flex",justifyContent:"center"},children:[n&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),!n&&t.map((function(e){return Object(w.jsx)(be.a,{item:!0,children:Object(w.jsxs)(se.a,{xs:12,md:6,lg:4,children:[Object(w.jsx)(ee.a,{align:"center",children:e.image&&Object(w.jsx)("img",{src:e.image,alt:e.name,style:{height:200}})}),Object(w.jsx)(X.a,{sx:{flex:"1 0 auto"},children:Object(w.jsx)(E.a,{variant:"outlined",href:"/hobbies/".concat(e._id),children:Object(w.jsx)(K.a,{component:"div",variant:"h5",children:e.name})})})]})},e._id)}))]}),a&&a.isAdmin&&Object(w.jsx)(me.a,{align:"center",children:Object(w.jsx)(E.a,{style:{marginTop:20},color:"secondary",variant:"contained",component:x.b,to:"/hobbies/create",children:"Add Hobby!"})})]})}}]),n}(a.Component),qe=Ne,Ge=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={image:"",description:"",imageIsUploading:!1},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var n=new FormData;n.append("image",t.target.files[0]),_e.upload(n).then((function(t){e.setState({image:t.data.imagePath,imageIsUploading:!1})})).catch((function(){return e.props.history.push("/500")}))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.image,i=n.description,c=e.props.id;e.props.service.createPost(c,i,a).then((function(t){console.log(t),e.props.saveUpdatedData(t.data)})).catch((function(e){}))},e.handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=(e.image,e.description),n=e.imageIsUploading;return Object(w.jsx)(L.a,{sx:{"& > :not(style)":{m:1,width:"50ch"},"& .MuiTextField-root":{m:1,width:"50ch"}},style:{paddingBottom:60},noValidate:!0,autoComplete:"off",children:Object(w.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-multiline-flexible",label:"Description",multiline:!0,maxRows:4,variant:"outlined",name:"description",value:t}),Object(w.jsx)(E.a,{type:"submit",disabled:n,children:"Post!"})]})})}}]),n}(a.Component),Ve=Ge,Ye=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={singleHobby:null,isLoading:!0},e.handleDelete=function(){var t=e.props.match.params.id;te.delete(t).then((function(t){e.props.history.push("/hobbies")})).catch((function(t){e.props.history.push("/500")}))},e.handleNewData=function(t){e.setState({singleHobby:t.hobby})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;te.getHobby(t).then((function(t){e.setState({singleHobby:t.data,isLoading:!1})})).catch((function(t){e.props.history.push("/500")}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.singleHobby,a=this.props.match.params.id,i=this.props.user;return Object(w.jsxs)(Se.a,{style:{paddingBottom:60,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(w.jsxs)(se.a,{sx:{display:"flex"},children:[t&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),!t&&Object(w.jsx)(me.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(w.jsxs)(X.a,{sx:{flex:"1 0 auto"},children:[n.image&&Object(w.jsx)(ee.a,{component:"img",src:n.image,alt:n.name,style:{width:300,marginBottom:20}}),Object(w.jsxs)(me.a,{align:"center",children:[Object(w.jsx)(K.a,{component:"div",variant:"h3",children:n.name}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Description: ",n.description]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Where: ",n.placeOfActivity]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Category: ",n.typeOfActivity]})]}),i&&i.isAdmin&&Object(w.jsx)(be.a,{container:!0,spacing:3,children:Object(w.jsx)("div",{align:"center",style:{marginTop:10,display:"flex",justifyContent:"space-around"},children:Object(w.jsxs)("div",{style:{width:"50vw",display:"flex",justifyContent:"space-around"},children:[Object(w.jsx)(E.a,{color:"primary",variant:"contained",component:x.b,to:"/hobbies/".concat(n._id,"/edit"),children:"Edit"}),Object(w.jsx)(E.a,{color:"secondary",variant:"contained",startIcon:Object(w.jsx)(Ee.a,{}),onClick:this.handleDelete,children:"Delete"})]})})})]})})]}),Object(w.jsx)(Ve,{id:a,service:te,saveUpdatedData:this.handleNewData}),n&&n.posts.map((function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("p",{children:e.description})})}))]})}}]),n}(a.Component),Qe=Ye,Je=n(365),Ze=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={name:"",typeOfActivity:"",description:"",image:"",placeOfActivity:"",imageIsUploading:!1},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var n=new FormData;n.append("image",t.target.files[0]),_e.upload(n).then((function(t){e.setState({image:t.data.imagePath,imageIsUploading:!1})})).catch((function(){e.props.history.push("/500")}))},e.handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.name,i=n.typeOfActivity,c=n.description,r=n.placeOfActivity,s=n.image,o=e.props.match.params.id;e.props.isEdit?te.edit(o,a,i,c,r,s).then((function(){e.props.history.push("/hobbies/".concat(o))})).catch((function(t){e.props.history.push("/500")})):te.create(a,i,c,r,s).then((function(t){e.props.history.push("/hobbies/".concat(t.data._id))})).catch((function(e){}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;t&&te.getHobby(t).then((function(t){e.setState({name:t.data.name,typeOfActivity:t.data.typeOfActivity,description:t.data.description,image:t.data.image,placeOfActivity:t.data.placeOfActivity})}))}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.typeOfActivity,a=e.description,i=e.placeOfActivity,c=e.image,r=e.imageIsUploading;return Object(w.jsx)(Ie.a,{align:"justify",style:{paddingBottom:60},children:Object(w.jsx)($.a,{children:Object(w.jsxs)(L.a,{sx:{"& > :not(style)":{m:1,width:"50ch"},"& .MuiTextField-root":{m:1,width:"50ch"},display:"flex",flexDirection:"column",alignItems:"center"},noValidate:!0,autoComplete:"off",style:{paddingBottom:60},children:[Object(w.jsxs)("div",{align:"center",children:[Object(w.jsx)("h2",{children:"Hobby Form"}),Object(w.jsx)("h3",{children:"Please enter your information"})]}),Object(w.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(w.jsx)("div",{align:"center",children:c&&Object(w.jsx)("img",{style:{marginBottom:10,width:150},src:c,alt:t})}),Object(w.jsx)(ke.PuffLoader,{loading:r,size:"100px",color:"orchid"}),Object(w.jsx)("div",{align:"center",children:Object(w.jsx)("label",{htmlFor:"contained-button-file",children:Object(w.jsx)(Je.a,{accept:"image/*",type:"file",onChange:this.handleImageUpload})})}),Object(w.jsx)(Oe.a,{style:{marginTop:20},onChange:this.handleChange,id:"outlined-basic",label:"Name",variant:"outlined",name:"name",value:t}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-multiline-flexible",label:"Description",multiline:!0,maxRows:4,variant:"outlined",name:"description",value:a}),Object(w.jsxs)(Ue.a,{sx:{m:1,width:530},children:[Object(w.jsx)(Be.a,{id:"demo-multiple-name-label",children:"Please select the type of the activity"}),Object(w.jsxs)(Ae.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,label:"Please select the type of the activity",name:"typeOfActivity",onChange:this.handleChange,children:[Object(w.jsx)(Le.a,{value:"Sport",children:"Sport"}),Object(w.jsx)(Le.a,{value:"Craft",children:"Craft"}),Object(w.jsx)(Le.a,{value:"Workshop",children:"Workshop"}),Object(w.jsx)(Le.a,{value:"Music",children:"Music"}),Object(w.jsx)(Le.a,{value:"Art",children:"Art"}),Object(w.jsx)(Le.a,{value:"Manual",children:"Manual"}),Object(w.jsx)(Le.a,{value:"Food",children:"Food"}),Object(w.jsx)(Le.a,{value:"Gardening",children:"Gardening"}),Object(w.jsx)(Le.a,{value:"MeetUp",children:"MeetUp"}),Object(w.jsx)(Le.a,{value:"Language",children:"Language"}),Object(w.jsx)(Le.a,{value:"Spiritual",children:"Spiritual"}),Object(w.jsx)(Le.a,{value:"Photography",children:"Photography"})]})]}),Object(w.jsxs)(Ue.a,{sx:{m:1,width:530},children:[Object(w.jsx)(Be.a,{id:"demo-multiple-name-label",children:"Please select the place of the activity"}),Object(w.jsxs)(Ae.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,label:"Please select the place of the activity",name:"placeOfActivity",onChange:this.handleChange,children:[Object(w.jsx)(Le.a,{value:"Indoors",children:"Indoors"}),Object(w.jsx)(Le.a,{value:"Outdoors",children:"Outdoors"}),Object(w.jsx)(Le.a,{value:"Indoors/Outdoors",children:"Indoors/Outdoors"})]})]}),Object(w.jsxs)("div",{style:{marginTop:10,display:"flex",justifyContent:"space-around"},children:[Object(w.jsx)(E.a,{color:"primary",variant:"outlined",type:"submit",disabled:r,children:"Add this Hobby!"}),Object(w.jsx)(E.a,{color:"secondary",variant:"outlined",type:"submit",disabled:r,children:"Save changes!"})]})]})]})})})}}]),n}(a.Component),Xe=Ze,Ke=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={listOfEvents:null,isLoading:!0},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;oe.getEvents().then((function(t){e.setState({listOfEvents:t.data,isLoading:!1})})).catch((function(t){e.props.history.push("/500")}))}},{key:"render",value:function(){var e=this.state,t=e.listOfEvents,n=e.isLoading,a=this.props.user;return Object(w.jsxs)(Se.a,{style:{paddingBottom:60},children:[Object(w.jsx)(me.a,{align:"center",style:{marginBottom:10},children:Object(w.jsx)(K.a,{variant:"h2",children:"All The Events"})}),Object(w.jsxs)(be.a,{container:!0,spacing:3,style:{display:"flex",justifyContent:"center"},children:[n&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),!n&&t.map((function(e){return Object(w.jsx)(be.a,{item:!0,children:Object(w.jsxs)(se.a,{xs:12,md:6,lg:4,children:[Object(w.jsx)(ee.a,{align:"center",children:e.image&&Object(w.jsx)("img",{src:e.image,alt:e.name,style:{height:200}})}),Object(w.jsx)(X.a,{sx:{flex:"1 0 auto"},children:Object(w.jsx)(E.a,{variant:"outlined",href:"/events/".concat(e._id),children:Object(w.jsx)(K.a,{component:"div",variant:"h5",children:e.title})})})]})},e._id)}))]}),a&&Object(w.jsx)("div",{align:"center",children:Object(w.jsx)(E.a,{style:{marginTop:20},color:"secondary",variant:"contained",component:x.b,to:"/events/create",children:"Add Event!"})})]})}}]),n}(a.Component),$e=Ke,et=new function e(){var t=this;Object(o.a)(this,e),this.create=function(e,n,a){return t.service.post("/create",{comment:e,likes:n})},this.edit=function(e,n,a,i){return t.service.patch("/".concat(e,"/edit")),{id:e,comment:n,likes:a,dislikes:i}},this.delete=function(e){return t.service.delete("".concat(e))},this.getReview=function(e){return t.service.get("".concat(e))},this.getReviews=function(){return t.service.get()},this.service=p.a.create({baseURL:"".concat("http://localhost:5005/api","/reviews"),withCredentials:!0})},tt=(a.Component,n(357)),nt=n(164),at=n(79),it=n(130),ct=n.n(it),rt=n(165);function st(){var e=Object(at.useStripe)(),t=Object(at.useElements)(),n=Object(a.useState)(null),i=Object(m.a)(n,2),c=i[0],r=i[1],s=Object(a.useState)(!1),o=Object(m.a)(s,2),l=o[0],d=o[1];Object(a.useEffect)((function(){if(e){var t=new URLSearchParams(window.location.search).get("payment_intent_client_secret");t&&e.retrievePaymentIntent(t).then((function(e){switch(e.paymentIntent.status){case"succeeded":r("Payment succeeded!");break;case"processing":r("Your payment is processing.");break;case"requires_payment_method":r("Your payment was not successful, please try again.");break;default:r("Something went wrong.")}}))}}),[e]);var h=function(){var n=Object(rt.a)(ct.a.mark((function n(a){var i,c;return ct.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("HELP"),a.preventDefault(),e&&t){n.next=4;break}return n.abrupt("return");case 4:return d(!0),n.next=7,e.confirmPayment({elements:t,confirmParams:{return_url:"http://localhost:3000"}});case 7:i=n.sent,"card_error"===(c=i.error).type||"validation_error"===c.type?r(c.message):r("An unexpected error occured."),d(!1);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(w.jsx)(Se.a,{children:Object(w.jsxs)("form",{id:"payment-form",onSubmit:h,children:[Object(w.jsx)(at.PaymentElement,{id:"payment-element"}),Object(w.jsx)(E.a,{disabled:l||!e||!t,type:"submit",children:Object(w.jsx)("span",{id:"button-text",children:l?Object(w.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})}),c&&Object(w.jsx)("div",{id:"payment-message",children:c})]})})}var ot=Object(nt.a)("pk_test_51JzF8fKkWmomGiX9Ue6WkLFHppQhlmjuCXdCp2OR3XmMDjHUbhciHQDEly19t7165w86eQw81t2R1YZuRIQLn7SQ00jG1HKETZ");function lt(e){var t=e.itemToBuy,n=Object(a.useState)(""),i=Object(m.a)(n,2),c=i[0],r=i[1];Object(a.useEffect)((function(){fetch("".concat("http://localhost:5005/api","/payments/create-payment-intent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[t]})}).then((function(e){return e.json()})).then((function(e){return r(e.clientSecret)}))}),[t]);var s={clientSecret:c,appearance:{theme:"stripe"}};return Object(w.jsx)("div",{className:"App",children:c&&Object(w.jsx)(at.Elements,{options:s,stripe:ot,children:Object(w.jsx)(st,{})})})}var dt=n(355),ht=n(356),jt=n(383),ut=function(e){var t=e.location,n=Object(a.useState)(null),i=Object(m.a)(n,2),c=i[0],r=i[1];return Object(a.useEffect)((function(){console.log(t);var e={lat:t.coordinates[0],lng:t.coordinates[1]};r(e)}),[]),Object(w.jsx)(w.Fragment,{children:c&&Object(w.jsx)(dt.a,{position:c})})};function pt(e){var t=e.location;return Object(w.jsxs)(ht.a,{center:[t.coordinates[0],t.coordinates[1]],zoom:13,scrollWheelZoom:!1,style:{height:"50vh",width:"50vw"},children:[Object(w.jsx)(jt.a,{id:"mapbox/streets-v11",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",accessToken:"pk.eyJ1IjoiY2Fyb2wtaW50aGV3aW5kIiwiYSI6ImNrd3lzYmF2eDBwcDMyb3Vyb285enpzY2sifQ.NTD5eDm9k3lQhfBaOWS03w"}),Object(w.jsx)(ut,{location:t})]})}var bt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={singleEvent:null,isLoading:!0},e.handleClick=function(t){e.setState({itemToBuy:t})},e.handleDelete=function(){var t=e.props.match.params.id;oe.delete(t).then((function(t){e.props.history.push("/events")})).catch((function(t){e.props.history.push("/500")}))},e.handleAttend=function(){var t=e.props.match.params.id;oe.attend(t).then((function(t){e.setState({singleEvent:t.data.event})})).catch((function(e){console.log(e)}))},e.handleNewData=function(t){e.setState({singleEvent:t.event})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;oe.getEvent(t).then((function(t){e.setState({singleEvent:t.data,isLoading:!1})})).catch((function(t){e.props.history.push("/500")}))}},{key:"render",value:function(){var e,t,n=this,a=this.state,i=a.isLoading,c=a.singleEvent,r=a.itemToBuy,s=this.props.user,o=c&&new Date(c.date),l=s&&(null===c||void 0===c||null===(e=c.attendees)||void 0===e?void 0:e.some((function(e){return e._id===s._id}))),d=this.props.match.params.id,h=(null===s||void 0===s?void 0:s._id)===(null===c||void 0===c||null===(t=c.user_id)||void 0===t?void 0:t._id);return Object(w.jsxs)(Se.a,{style:{paddingBottom:60,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(w.jsxs)(se.a,{sx:{display:"flex"},children:[i&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),!i&&c&&Object(w.jsx)(me.a,{sx:{display:"flex",flexDirection:"row"},children:Object(w.jsxs)(X.a,{sx:{flex:"1 0 auto"},children:[Object(w.jsx)(K.a,{variant:"h2",children:c.title}),Object(w.jsx)(ee.a,{children:c.image&&Object(w.jsx)("img",{src:c.image,alt:c.title,style:{width:300}})}),Object(w.jsxs)(K.a,{children:["Description: ",c.description," "]}),Object(w.jsxs)(K.a,{children:["Date: ",o.toLocaleDateString(),o.toLocaleTimeString()]}),Object(w.jsxs)(K.a,{children:["Equipment required: ",c.equipment]}),Object(w.jsx)(pt,{location:c.location}),Object(w.jsxs)(K.a,{children:["Organizer:",Object(w.jsx)(tt.a,{component:x.b,to:"/users/".concat(c.user_id._id),children:c.user_id.username})]}),Object(w.jsxs)(K.a,{children:["Attending:",c.attendees.map((function(e){return Object(w.jsx)(tt.a,{component:x.b,to:"/users/".concat(e._id),children:e.username})}))]}),c.attendees_max&&Object(w.jsxs)(K.a,{children:["Maximum attendees: ",c.attendees_max]}),c.attendees_min&&Object(w.jsxs)(K.a,{children:["Minimum attendees: ",c.attendees_min]}),Object(w.jsxs)(K.a,{children:["Price policy: ",c.pricePolicy]}),Object(w.jsxs)(K.a,{children:[" Price: ",c.price," \u20ac"]}),Object(w.jsx)(me.a,{sx:{flexGrow:1}}),Object(w.jsxs)("div",{style:{marginTop:10,width:"50vw",display:"flex",justifyContent:"space-around"},children:[l&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{style:{backgroundColor:"#3aefd5"},children:"You're attending this event."}),Object(w.jsx)(tt.a,{onClick:this.handleAttend,children:"Remove"})]}),!l&&Object(w.jsx)(E.a,{onClick:this.handleAttend,color:"primary",variant:"contained",children:"Attend!"}),Object(w.jsx)(E.a,{color:"primary",variant:"contained",onClick:function(){return n.handleClick(c)},href:"/products/payments/create-payment-intent",children:Object(w.jsx)(K.a,{component:"div",variant:"p",children:"Pay to go!"})}),r&&r._id===c._id&&Object(w.jsx)(lt,{itemToBuy:c})]}),Object(w.jsx)(me.a,{sx:{flexGrow:1}}),h&&Object(w.jsxs)(be.a,{container:!0,spacing:3,style:{marginTop:10,marginLeft:5,width:"50vw",display:"flex",justifyContent:"space-evenly"},children:[Object(w.jsx)(E.a,{color:"secondary",variant:"contained",component:x.b,to:"/events/".concat(c._id,"/edit"),children:"Edit"}),Object(w.jsx)(E.a,{color:"secondary",variant:"contained",component:x.b,startIcon:Object(w.jsx)(Ee.a,{}),onClick:this.handleDelete,children:"Delete"})]})]})})]}),Object(w.jsx)(Ve,{id:d,service:oe,saveUpdatedData:this.handleNewData}),c&&c.posts.map((function(e){return Object(w.jsx)("p",{children:e.description})}))]})}}]),n}(a.Component),mt=bt,xt=n(362),Ot=n(360),gt=n(361),ft=n(358),vt=n(359),yt=function(e){var t=e.updateLocation,n=(e.location,Object(a.useState)(null)),i=Object(m.a)(n,2),c=i[0],r=i[1],s=Object(ft.a)({click:function(e){console.log("click",e.latlng),r(e.latlng);var n={type:"Point",coordinates:[e.latlng.lat,e.latlng.lng]};t(n)}});return Object(a.useEffect)((function(){s.locate()})),Object(w.jsx)(w.Fragment,{children:c&&Object(w.jsx)(dt.a,{position:c,children:Object(w.jsx)(vt.a,{children:"Event title"})})})};function Ct(e){var t=e.updateLocation,n=e.location;return Object(w.jsxs)(ht.a,{center:n?[n.coordinates[0],n.coordinates[1]]:[51.505,-.09],zoom:13,scrollWheelZoom:!1,style:{height:"50vh",width:"50vw"},children:[Object(w.jsx)(jt.a,{id:"mapbox/streets-v11",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",accessToken:"pk.eyJ1IjoiY2Fyb2wtaW50aGV3aW5kIiwiYSI6ImNrd3lzYmF2eDBwcDMyb3Vyb285enpzY2sifQ.NTD5eDm9k3lQhfBaOWS03w"}),Object(w.jsx)(yt,{updateLocation:t,location:n})]})}var wt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={image:"",title:"",description:"",equipment:"",date:new Date,user_id:"",attendees:"",attendees_max:"",attendees_min:"",pricePolicy:"",price:"",location:"",organizedBy:"",imageIsUploading:!1},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var n=new FormData;n.append("image",t.target.files[0]),_e.upload(n).then((function(t){e.setState({image:t.data.imagePath,imageIsUploading:!1})})).catch((function(){return e.props.history.push("/500")}))},e.handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.image,i=n.title,c=n.description,r=n.equipment,s=n.date,o=n.user_id,l=n.attendees,d=n.attendees_max,h=n.attendees_min,j=n.pricePolicy,u=n.price,p=n.location,b=n.organizedBy,m=e.props.match.params.id;e.props.isEdit?oe.edit(m,a,i,c,r,s,o,l,d,h,j,u,p,b).then((function(){e.props.history.push("/events/".concat(m))})).catch((function(t){e.props.history.push("/500")})):oe.create(a,i,c,r,s,o,l,d,h,j,u,p,b).then((function(t){e.props.history.push("/events/".concat(t.data._id))})).catch((function(t){e.props.history.push("/500")}))},e.updateLocation=function(t){e.setState({location:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;t&&oe.getEvent(t).then((function(t){e.setState({image:t.data.image,title:t.data.title,description:t.data.description,equipment:t.data.equipment,date:t.data.date,user_id:t.data.user_id,attendees:t.data.attendees,attendees_max:t.data.attendees_max,attendees_min:t.data.attendees_min,pricePolicy:t.data.pricePolicy,price:t.data.price,location:t.data.location,organizedBy:t.data.organizedBy})})).catch((function(t){e.props.history.push("/500")}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.image,a=t.title,i=t.description,c=t.equipment,r=t.date,o=t.attendees_max,l=t.attendees_min,d=t.pricePolicy,h=t.price,j=t.location,u=t.organizedBy,p=t.imageIsUploading;return console.log(j),Object(w.jsx)(Ie.a,{align:"justify",style:{paddingBottom:60},children:Object(w.jsx)(se.a,{children:Object(w.jsxs)(L.a,{sx:{"& > :not(style)":{m:1,width:"50ch"},"& .MuiTextField-root":{m:1,width:"50ch"},display:"flex",flexDirection:"column",alignItems:"center"},noValidate:!0,autoComplete:"off",style:{paddingBottom:60},children:[Object(w.jsxs)("div",{align:"center",children:[Object(w.jsx)("h2",{children:"Event Form"}),Object(w.jsx)("h3",{children:"Please enter your information"})]}),Object(w.jsx)(Ot.b,{dateAdapter:xt.a,children:Object(w.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(w.jsx)("div",{align:"center",children:n&&Object(w.jsx)("img",{style:{marginBottom:10,width:150},src:n,alt:a})}),Object(w.jsx)(ke.PuffLoader,{loading:p,size:"100px",color:"orchid"}),Object(w.jsx)("div",{align:"center",children:Object(w.jsx)("label",{htmlFor:"contained-button-file",children:Object(w.jsx)(Fe.a,{accept:"image/*",type:"file",onChange:this.handleImageUpload})})}),Object(w.jsx)(Oe.a,{style:{marginTop:20},onChange:this.handleChange,id:"outlined-basic",label:"Event title",variant:"outlined",name:"title",value:a}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-multiline-flexible",label:"Description",multiline:!0,maxRows:4,variant:"outlined",name:"description",value:i}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-basic",label:"Required equipment",variant:"outlined",name:"equipment",value:c}),Object(w.jsx)(Ct,{updateLocation:this.updateLocation,location:j}),Object(w.jsx)(M.a,{spacing:3,children:Object(w.jsx)(gt.a,{label:"Date & Time",value:r,name:"date",onChange:function(t){e.setState({date:new Date(t)})},renderInput:function(e){return Object(w.jsx)(Oe.a,Object(s.a)({},e))}})}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-basic",label:"Maximum number of attendees",variant:"outlined",name:"attendees_max",type:"number",value:o}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-basic",label:"Set minimum number of attendees (if required)",variant:"outlined",name:"attendees_min",type:"number",value:l}),Object(w.jsxs)(Ue.a,{sx:{m:1,width:530},children:[Object(w.jsx)(Be.a,{id:"demo-multiple-name-label",children:"Please select the price policy"}),Object(w.jsxs)(Ae.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,label:"Please select the price policy",name:"pricePolicy",onChange:this.handleChange,children:[Object(w.jsx)(Le.a,{value:"Fixed Price",children:"Fixed Price"}),Object(w.jsx)(Le.a,{value:"Free",children:"Free"}),Object(w.jsx)(Le.a,{value:"Voluntary",children:"Voluntary"})]})]}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-basic",label:"\u20ac",variant:"outlined",name:"price",type:"number",value:h,placeholder:"\u20ac"}),Object(w.jsxs)(Ue.a,{sx:{m:1,width:530},children:[Object(w.jsx)(Be.a,{id:"demo-multiple-name-label",children:"Organizer"}),Object(w.jsxs)(Ae.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:u,label:"Organizer",name:"organizedBy",onChange:this.handleChange,children:[Object(w.jsx)(Le.a,{value:"Charity",children:"Charity"}),Object(w.jsx)(Le.a,{value:"Company",children:"Company"}),Object(w.jsx)(Le.a,{value:"User",children:"User"})]})]}),Object(w.jsxs)("div",{style:{marginTop:10,display:"flex",justifyContent:"space-around"},children:[Object(w.jsx)(E.a,{color:"primary",variant:"outlined",type:"submit",disabled:p,children:"Add this event!"}),Object(w.jsx)(E.a,{color:"secondary",variant:"outlined",type:"submit",disabled:p,children:"Save changes!"})]})]})})]})})})}}]),n}(a.Component),St=wt,kt=new function e(){var t=this;Object(o.a)(this,e),this.create=function(e,n,a){return t.service.post("/create",{name:e,description:n,image:a})},this.edit=function(e,n,a,i){return t.service.patch("/".concat(e),{name:n,description:a,image:i})},this.delete=function(e){return t.service.delete("/".concat(e))},this.getCharity=function(e){return t.service.get("/".concat(e))},this.getCharities=function(){return t.service.get()},this.createPost=function(e,n,a){return t.service.post("/".concat(e,"/posts/create"),{description:n,image:a})},this.createReview=function(e,n){return t.service.post("/".concat(e,"/reviews/create"),{likes:n})},this.service=p.a.create({baseURL:"".concat("http://localhost:5005/api","/charities"),withCredentials:!0})},Dt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={listOfCharities:null,isLoading:!0},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;kt.getCharities().then((function(t){e.setState({listOfCharities:t.data,isLoading:!1})})).catch((function(e){}))}},{key:"render",value:function(){var e=this.state,t=e.listOfCharities,n=e.isLoading,a=this.props.user;return Object(w.jsxs)(Se.a,{style:{paddingBottom:60},children:[Object(w.jsx)("div",{align:"center",style:{marginBottom:10},children:Object(w.jsx)(K.a,{variant:"h2",children:"All The Charities"})}),Object(w.jsxs)(be.a,{container:!0,spacing:3,style:{display:"flex",justifyContent:"center"},children:[n&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),!n&&t.map((function(e){return Object(w.jsx)(be.a,{item:!0,children:Object(w.jsxs)(se.a,{xs:12,md:6,lg:4,children:[Object(w.jsx)(ee.a,{align:"center",children:e.image&&Object(w.jsx)("img",{src:e.image,alt:e.name,style:{height:200}})}),Object(w.jsx)(X.a,{sx:{flex:"1 0 auto"},children:Object(w.jsx)(E.a,{variant:"outlined",href:"/charities/".concat(e._id),children:Object(w.jsx)(K.a,{component:"div",variant:"h5",children:e.name})})})]})},e._id)}))]}),a&&a.isAdmin&&Object(w.jsx)("div",{align:"center",children:Object(w.jsx)(E.a,{component:x.b,color:"secondary",variant:"contained",to:"/charities/create",style:{marginTop:20},children:"Add Charity!"})})]})}}]),n}(a.Component),Pt=Dt,_t=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={singleCharity:null,isLoading:!0},e.handleDelete=function(){var t=e.props.match.params.id;kt.delete(t).then((function(t){e.props.history.push("/charities")})).catch((function(t){e.props.history.push("/500")}))},e.handleNewData=function(t){e.setState({singleCharity:t.charity})},e.handleNewReview=function(t){e.setState({singleCharity:t.charity})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;kt.getCharity(t).then((function(t){e.setState({singleCharity:t.data,isLoading:!1})})).catch((function(t){e.props.history.push("/500")}))}},{key:"render",value:function(){var e,t=this.state,n=t.isLoading,a=t.singleCharity,i=this.props.match.params.id,c=this.props.user;null===c||void 0===c||c._id,null===a||void 0===a||null===(e=a.user_id)||void 0===e||e._id;return Object(w.jsxs)(Se.a,{style:{paddingBottom:60,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(w.jsxs)(se.a,{sx:{display:"flex"},children:[n&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),!n&&Object(w.jsx)(me.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(w.jsxs)(X.a,{sx:{flex:"1 0 auto"},children:[a.image&&Object(w.jsx)(ee.a,{component:"img",image:a.image,alt:a.name,style:{width:300}}),Object(w.jsx)(K.a,{component:"div",variant:"h3",children:a.name}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Description: ",a.description]}),c&&c.isAdmin&&Object(w.jsxs)(be.a,{container:!0,spacing:3,style:{marginTop:10,width:"50vw",display:"flex",justifyContent:"space-evenly"},children:[Object(w.jsx)(E.a,{color:"primary",variant:"contained",component:x.b,to:"/charities/".concat(a._id,"/edit"),children:"Edit"}),Object(w.jsx)(E.a,{color:"secondary",variant:"contained",startIcon:Object(w.jsx)(Ee.a,{}),onClick:this.handleDelete,children:"Delete"})]})]})})]}),Object(w.jsx)(Ve,{id:i,service:kt,saveUpdatedData:this.handleNewData}),a&&a.posts.map((function(e){return Object(w.jsx)("p",{children:e.description})}))]})}}]),n}(a.Component),It=_t,Lt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={name:"",description:"",image:"",imageIsUploading:!1},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var n=new FormData;n.append("image",t.target.files[0]),_e.upload(n).then((function(t){e.setState({image:t.data.imagePath,imageIsUploading:!1})})).catch((function(){return e.props.history.push("/500")}))},e.handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.name,i=n.description,c=n.image,r=e.props.match.params.id;e.props.isEdit?kt.edit(r,a,i,c).then((function(){e.props.history.push("/charities/".concat(r))})).catch((function(t){e.props.history.push("/500")})):kt.create(a,i,c).then((function(t){e.props.history.push("/charities/".concat(t.data._id))})).catch((function(t){e.props.history.push("/500")}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;t&&kt.getCharity(t).then((function(t){e.setState({name:t.data.name,description:t.data.description,image:t.data.image})}))}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.description,a=e.image,i=e.imageIsUploading;return Object(w.jsx)(Ie.a,{align:"justify",children:Object(w.jsx)(se.a,{style:{paddingBottom:60},children:Object(w.jsxs)(L.a,{sx:{"& > :not(style)":{m:1,width:"50ch"},"& .MuiTextField-root":{m:1,width:"50ch"},display:"flex",flexDirection:"column",alignItems:"center"},noValidate:!0,autoComplete:"off",children:[Object(w.jsxs)("div",{align:"center",children:[Object(w.jsx)("h2",{children:"Charity Form"}),Object(w.jsx)("h3",{children:"Please enter your information"})]}),Object(w.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(w.jsx)("div",{align:"center",children:a&&Object(w.jsx)("img",{style:{marginBottom:10,width:150},src:a,alt:t})}),Object(w.jsx)(ke.PuffLoader,{loading:i,size:"100px",color:"orchid"}),Object(w.jsx)("div",{align:"center",children:Object(w.jsx)("label",{htmlFor:"contained-button-file",children:Object(w.jsx)(Je.a,{accept:"image/*",type:"file",onChange:this.handleImageUpload})})}),Object(w.jsx)(Oe.a,{style:{marginTop:20},onChange:this.handleChange,id:"outlined-basic",label:"Name",variant:"outlined",name:"name",value:t}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-multiline-flexible",label:"Description",multiline:!0,maxRows:4,variant:"outlined",name:"description",value:n}),Object(w.jsxs)("div",{style:{marginTop:10,display:"flex",justifyContent:"space-around"},children:[Object(w.jsx)(E.a,{color:"primary",variant:"outlined",type:"submit",disabled:i,children:"Add this Charity!"}),Object(w.jsx)(E.a,{color:"secondary",variant:"outlined",type:"submit",disabled:i,children:"Save changes!"})]})]})]})})})}}]),n}(a.Component),At=Lt,Ft=new function e(){var t=this;Object(o.a)(this,e),this.create=function(e,n,a,i,c,r,s){return t.service.post("/create",{image:e,title:n,description:a,user_id:i,pricePolicy:c,price:r,charity_id:s})},this.edit=function(e,n,a,i,c,r,s,o){return t.service.patch("/".concat(e),{image:n,title:a,description:i,user_id:c,pricePolicy:r,price:s,charity_id:o})},this.delete=function(e){return t.service.delete("/".concat(e))},this.getProduct=function(e){return t.service.get("/".concat(e))},this.getProducts=function(){return t.service.get()},this.createPost=function(e,n,a){return t.service.post("/".concat(e,"/posts/create"),{description:n,image:a})},this.createReview=function(e,n){return t.service.post("/".concat(e,"/reviews/create"),{likes:n})},this.service=p.a.create({baseURL:"".concat("http://localhost:5005/api","/products"),withCredentials:!0})},Ut=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={listOfProducts:null,isLoading:!0},e.handleClick=function(t){e.props.payForItem(t)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;Ft.getProducts().then((function(t){e.setState({listOfProducts:t.data,isLoading:!1})})).catch((function(t){e.props.history.push("/500")}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.listOfProducts,a=t.isLoading,i=t.itemToBuy,c=this.props.user;return Object(w.jsxs)(Se.a,{style:{paddingBottom:60},children:[Object(w.jsx)("div",{align:"center",style:{marginBottom:10},children:Object(w.jsx)(K.a,{variant:"h2",children:"All The Products"})}),Object(w.jsxs)(be.a,{container:!0,spacing:3,style:{display:"flex",justifyContent:"center"},children:[a&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),!a&&n.map((function(t){return Object(w.jsx)(be.a,{item:!0,children:Object(w.jsxs)(se.a,{xs:12,md:6,lg:4,children:[Object(w.jsx)(ee.a,{align:"center",children:t.image&&Object(w.jsx)("img",{src:t.image,alt:t.title,style:{height:200}})}),Object(w.jsxs)(X.a,{sx:{flex:"1 0 auto"},children:[Object(w.jsx)(K.a,{component:"div",variant:"h5",children:t.title}),Object(w.jsxs)(K.a,{component:"div",variant:"p",children:[t.price," \u20ac"]})]}),Object(w.jsxs)(ze.a,{children:[Object(w.jsx)(E.a,{variant:"outlined",href:"/products/".concat(t._id),children:Object(w.jsx)(K.a,{component:"div",variant:"h5",children:"details"})}),Object(w.jsx)(E.a,{color:"primary",variant:"contained",onClick:function(){return e.handleClick(t)},children:Object(w.jsx)(K.a,{component:"div",variant:"h5",children:"Buy it!"})}),i&&i._id===t._id&&Object(w.jsx)(lt,{itemToBuy:i})]})]})},t._id)}))]}),c&&Object(w.jsx)("div",{align:"center",style:{marginTop:10},children:Object(w.jsx)(E.a,{style:{marginTop:20},color:"secondary",variant:"contained",component:x.b,to:"/products/create",children:"Add Product!"})})]})}}]),n}(a.Component),Bt=Ut,Tt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={singleProduct:null,isLoading:!0},e.handleDelete=function(){var t=e.props.match.params.id;Ft.delete(t).then((function(t){e.props.history.push("/products")})).catch((function(t){e.props.history.push("/500")}))},e.handleNewData=function(t){e.setState({singleProduct:t.product})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;Ft.getProduct(t).then((function(t){e.setState({singleProduct:t.data,isLoading:!1})})).catch((function(t){e.props.history.push("/500")}))}},{key:"render",value:function(){var e,t=this.state,n=t.isLoading,a=t.singleProduct,i=this.props.match.params.id,c=this.props.user,r=(null===c||void 0===c?void 0:c._id)===(null===a||void 0===a||null===(e=a.user_id)||void 0===e?void 0:e._id);return Object(w.jsxs)(Se.a,{style:{paddingBottom:60,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(w.jsxs)(se.a,{sx:{display:"flex"},children:[n&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),!n&&Object(w.jsx)(me.a,{sx:{display:"flex",flexDirection:"row"},children:Object(w.jsxs)(X.a,{sx:{flex:"1 0 auto"},children:[a.image&&Object(w.jsx)(ee.a,{component:"img",image:a.image,alt:a.title,style:{width:300}}),Object(w.jsx)(K.a,{component:"div",variant:"h3",children:a.title}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Description: ",a.description," "]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Price Policy: ",a.pricePolicy]}),Object(w.jsxs)(K.a,{variant:"p",color:"text.secondary",component:"div",children:["Price: ",a.price]}),Object(w.jsx)(K.a,{variant:"p",color:"text.secondary",component:"div",children:Object(w.jsxs)(tt.a,{component:x.b,to:"/users/".concat(a.user_id._id),children:["Created by: ",a.user_id.username]})}),r&&Object(w.jsxs)(be.a,{container:!0,spacing:3,style:{marginTop:10,display:"flex",justifyContent:"space-evenly"},children:[Object(w.jsx)(E.a,{color:"secondary",variant:"contained",component:x.b,to:"/products/".concat(a._id,"/edit"),children:"Edit"}),Object(w.jsx)(E.a,{color:"secondary",variant:"contained",component:x.b,startIcon:Object(w.jsx)(Ee.a,{}),onClick:this.handleDelete,children:"Delete"})]})]})})]}),Object(w.jsx)(Ve,{id:i,service:Ft,saveUpdatedData:this.handleNewData}),a&&a.posts.map((function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("image",{src:e.image})})}))]})}}]),n}(a.Component),Et=Tt,Mt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={image:"",title:"",description:"",user_id:"",pricePolicy:"",price:"",event_id:"",charity_id:"",imageIsUploading:!1},e.handleImageUpload=function(t){e.setState({imageIsUploading:!0});var n=new FormData;n.append("image",t.target.files[0]),_e.upload(n).then((function(t){e.setState({image:t.data.imagePath,imageIsUploading:!1})})).catch((function(){e.props.history.push("/500")}))},e.handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.image,i=n.title,c=n.description,r=n.user_id,s=n.pricePolicy,o=n.price,l=n.event_id,d=n.charity_id,h=e.props.match.params.id;e.props.isEdit?Ft.edit(h,a,i,c,r,s,o,l,d).then((function(){e.props.history.push("/products/".concat(h))})).catch((function(t){e.props.history.push("/500")})):Ft.create(a,i,c,r,s,o,l,d).then((function(t){e.props.history.push("/products/".concat(t.data._id))})).catch((function(t){e.props.history.push("/500")}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;t&&Ft.getProduct(t).then((function(t){e.setState({image:t.data.image,title:t.data.title,description:t.data.description,user_id:t.data.user_id,pricePolicy:t.data.pricePolicy,price:t.data.price,event_id:t.data.event_id,charity_id:t.data.charity_id.name})})).catch((function(t){e.props.history.push("/500")}))}},{key:"render",value:function(){var e=this.state,t=e.image,n=e.title,a=e.description,i=(e.user_id,e.pricePolicy),c=e.price,r=(e.event_id,e.charity_id),s=e.imageIsUploading;return Object(w.jsx)(Ie.a,{align:"justify",style:{paddingBottom:60},children:Object(w.jsx)(se.a,{children:Object(w.jsxs)(L.a,{sx:{"& > :not(style)":{m:1,width:"50ch"},"& .MuiTextField-root":{m:1,width:"50ch"},display:"flex",flexDirection:"column",alignItems:"center"},noValidate:!0,autoComplete:"off",style:{paddingBottom:60},children:[Object(w.jsxs)("div",{align:"center",children:[Object(w.jsx)("h2",{children:"Product Form"}),Object(w.jsx)("h3",{children:"Please enter your information"})]}),Object(w.jsxs)("form",{onSubmit:this.handleSubmit,children:[t&&Object(w.jsx)("img",{src:t,alt:n,width:"150px"}),Object(w.jsx)(ke.PuffLoader,{loading:s,size:"100px",color:"orchid"}),Object(w.jsx)("div",{align:"center",children:Object(w.jsx)("label",{htmlFor:"contained-button-file",children:Object(w.jsx)(Fe.a,{accept:"image/*",type:"file",onChange:this.handleImageUpload})})}),Object(w.jsx)(Oe.a,{style:{marginTop:20},onChange:this.handleChange,id:"outlined-basic",label:"Name",variant:"outlined",name:"title",value:n}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-multiline-flexible",label:"Description",multiline:!0,maxRows:4,variant:"outlined",name:"description",value:a}),Object(w.jsxs)(Ue.a,{sx:{m:1,width:530},children:[Object(w.jsx)(Be.a,{id:"demo-multiple-name-label",children:"Please select the price policy"}),Object(w.jsxs)(Ae.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,label:"Please select the price policy.",name:"pricePolicy",onChange:this.handleChange,children:[Object(w.jsx)(Le.a,{value:"Fixed Price",children:"Fixed Price"}),Object(w.jsx)(Le.a,{value:"Voluntary",children:"Voluntary"})]})]}),Object(w.jsx)(Oe.a,{onChange:this.handleChange,id:"outlined-basic",label:"\u20ac",variant:"outlined",name:"price",type:"number",value:c,placeholder:"\u20ac"}),Object(w.jsxs)(Ue.a,{sx:{m:1,width:530},children:[Object(w.jsx)(Be.a,{id:"demo-multiple-name-label",children:"Which Charity is it for?"}),Object(w.jsxs)(Ae.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r,label:"Which Charity is it for?",name:"charity_id",onChange:this.handleChange,children:[Object(w.jsx)(Le.a,{value:r,children:r}),Object(w.jsx)(Le.a,{value:"Unicef",children:"Unicef "}),Object(w.jsx)(Le.a,{value:"Doctors without borders",children:"Doctors without borders"}),Object(w.jsx)(Le.a,{value:"World Food Programme",children:"World Food Programme"}),Object(w.jsx)(Le.a,{value:"WWF",children:"WWF"}),Object(w.jsx)(Le.a,{value:"Local organizations",children:"Local organizations"})]})]}),Object(w.jsxs)("div",{style:{marginTop:10,display:"flex",justifyContent:"space-around"},children:[Object(w.jsx)(E.a,{color:"primary",variant:"outlined",type:"submit",disabled:s,children:"Add this Product!"}),Object(w.jsx)(E.a,{color:"secondary",variant:"outlined",type:"submit",disabled:s,children:"Save changes!"})]})]})]})})})}}]),n}(a.Component),Rt=Mt,zt=n(376),Wt={divStyle:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",paddingTop:20,paddingBottom:20,textAlign:"center"}};function Ht(e){var t=e.history;return Object(w.jsxs)("div",{style:Wt.divStyle,children:[Object(w.jsx)("h1",{children:"Server error - page not working as expected!"}),Object(w.jsx)(zt.a,{color:"secondary",variant:"contained",onClick:function(){return t.goBack()},children:"Go Back & Try again!"})]})}var Nt={divStyle:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",paddingTop:20,paddingBottom:20,textAlign:"center"}};function qt(e){return Object(w.jsxs)("div",{style:Nt.divStyle,children:[Object(w.jsx)("h1",{children:"Sorry, this page does not exist."}),Object(w.jsx)(Y.a,{sx:{height:10}}),Object(w.jsx)(zt.a,{color:"secondary",variant:"contained",onClick:function(){return e.history.push("/")},children:"Return to Home Page"})]})}var Gt=n(167),Vt=n.n(Gt),Yt=function(e){var t=e.result,n=e.category;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h4",{children:Object(w.jsx)(x.b,{to:"/".concat(n,"/").concat(t._id),children:t.title||t.name||t.username})}),Object(w.jsx)("p",{children:t.description})]})},Qt=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={listOfResults:null,search:"",type:"",isLoading:!0},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=Vt.a.parse(this.props.location.search);_e.search(t.q,t.type).then((function(t){e.setState({listOfResults:t.data,isLoading:!1})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.listOfResults,n=(e.search,e.type,e.isLoading);return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(Se.a,{style:{paddingBottom:60},children:[Object(w.jsxs)("div",{align:"center",style:{marginBottom:10},children:["  ",Object(w.jsx)(K.a,{variant:"h2",children:"Here's what you've been searching for"})," "]}),n&&Object(w.jsx)(ke.PuffLoader,{size:"100px",color:"orchid"}),n&&Object(w.jsx)("div",{children:"loading"}),!n&&Object(w.jsx)(w.Fragment,{children:Object.keys(t).map((function(e){return 0===t[e].length?null:Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:Object(w.jsxs)("h2",{children:[e," ",Object(w.jsx)("sup",{children:t[e].length})]})}),t[e].map((function(t){return Object(w.jsx)(Yt,{result:t,category:e})}))]})}))})]})})}}]),n}(a.Component),Jt=Qt;var Zt=function(){return Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(w.jsx)("h1",{children:"Contact us here"}),Object(w.jsx)("h3",{children:"Carolina A Garcia:"}),Object(w.jsx)("h4",{children:Object(w.jsx)("a",{href:"https://www.linkedin.com/in/carolina-alonso-garcia/",target:"_blank",rel:"noreferrer",children:"Contact Carolina Here"})}),Object(w.jsx)("h3",{children:"Florian Becker:"}),Object(w.jsx)("h4",{children:Object(w.jsx)("a",{href:"https://www.linkedin.com/in/florian-b-0b4609124",target:"_blank",rel:"noreferrer",children:"Contact Florian Here"})}),Object(w.jsx)("h3",{children:"Louise Birchall:"}),Object(w.jsx)("h4",{children:Object(w.jsx)("a",{href:"https://www.linkedin.com/in/louise-birchall/",target:"_blank",rel:"noreferrer",children:"Contact Louise Here"})}),Object(w.jsx)("br",{})]})},Xt=(Object(z.a)({typography:{fontFamily:["Montserrat"].join(",")}}),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={isLoggedIn:null,user:null,itemToBuy:null},e.setUser=function(t,n){e.setState({user:t,isLoggedIn:n})},e.getUser=function(){e.setState.user||b.loggedin().then((function(t){e.setState({user:t.data.user,isLoggedIn:!0})})).catch((function(t){e.setState({isLoggedIn:!1})}))},e.payForItem=function(t){e.setState({itemToBuy:t},(function(){e.props.history.push("/payments/create-payment-intent")}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this,t=this.state,n=t.user,a=t.isLoggedIn,i=t.itemToBuy;return Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)(R.a,{theme:W,children:[Object(w.jsx)(q,{isLoggedIn:a,user:n,setUser:this.setUser}),Object(w.jsxs)(j.d,{children:[Object(w.jsx)(j.b,{exact:!0,path:"/",render:function(e){return Object(w.jsx)(pe,Object(s.a)({},e))}}),Object(w.jsx)(j.b,{exact:!0,path:"/search",render:function(e){return Object(w.jsx)(Jt,Object(s.a)({},e))}}),Object(w.jsx)(j.b,{path:"/signup",render:function(t){return Object(w.jsx)(fe,Object(s.a)(Object(s.a)({},t),{},{setUser:e.setUser}))}}),Object(w.jsx)(j.b,{path:"/login",render:function(t){return Object(w.jsx)(ye,Object(s.a)(Object(s.a)({},t),{},{setUser:e.setUser}))}}),Object(w.jsx)(j.b,{exact:!0,path:"/users",render:function(e){return Object(w.jsx)(He,Object(s.a)({},e))}}),Object(w.jsx)(j.b,{exact:!0,path:"/users/:id",render:function(t){return Object(w.jsx)(Pe,Object(s.a)(Object(s.a)({},t),{},{setUser:e.setUser}))}}),Object(w.jsx)(j.b,{path:"/users/:id/create",render:function(e){return Object(w.jsx)(Pe,Object(s.a)(Object(s.a)({},e),{},{isEdit:!1}))}}),Object(w.jsx)(j.b,{path:"/users/:id/edit",render:function(e){return Object(w.jsx)(Re,Object(s.a)(Object(s.a)({},e),{},{isEdit:!0}))}}),Object(w.jsx)(j.b,{exact:!0,path:"/",render:function(e){return Object(w.jsx)(Z,Object(s.a)({},e))}}),Object(w.jsx)(j.b,{exact:!0,path:"/hobbies",render:function(e){return Object(w.jsx)(qe,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(w.jsx)(j.b,{path:"/hobbies/create",render:function(e){return Object(w.jsx)(Xe,Object(s.a)(Object(s.a)({},e),{},{isEdit:!1,user:n}))}}),Object(w.jsx)(j.b,{exact:!0,path:"/hobbies/:id",render:function(e){return Object(w.jsx)(Qe,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(w.jsx)(j.b,{path:"/hobbies/:id/edit",render:function(e){return Object(w.jsx)(Xe,Object(s.a)(Object(s.a)({},e),{},{isEdit:!0,user:n}))}}),Object(w.jsx)(j.b,{exact:!0,path:"/events",render:function(e){return Object(w.jsx)($e,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(w.jsx)(j.b,{path:"/events/create",render:function(e){return Object(w.jsx)(St,Object(s.a)(Object(s.a)({},e),{},{isEdit:!1,user:n}))}}),Object(w.jsx)(j.b,{exact:!0,path:"/events/:id",render:function(e){return Object(w.jsx)(mt,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(w.jsx)(j.b,{path:"/events/:id/edit",render:function(e){return Object(w.jsx)(St,Object(s.a)(Object(s.a)({},e),{},{isEdit:!0,user:n}))}}),Object(w.jsx)(j.b,{exact:!0,path:"/charities",render:function(e){return Object(w.jsx)(Pt,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(w.jsx)(j.b,{path:"/charities/create",render:function(e){return Object(w.jsx)(At,Object(s.a)(Object(s.a)({},e),{},{isEdit:!1}))}}),Object(w.jsx)(j.b,{exact:!0,path:"/charities/:id",render:function(e){return Object(w.jsx)(It,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(w.jsx)(j.b,{path:"/charities/:id/edit",render:function(e){return Object(w.jsx)(At,Object(s.a)(Object(s.a)({},e),{},{isEdit:!0}))}}),Object(w.jsx)(j.b,{exact:!0,path:"/products",render:function(t){return Object(w.jsx)(Bt,Object(s.a)(Object(s.a)({},t),{},{payForItem:e.payForItem,user:n}))}}),Object(w.jsx)(j.b,{path:"/products/create",render:function(e){return Object(w.jsx)(Rt,Object(s.a)(Object(s.a)({},e),{},{isEdit:!1}))}}),Object(w.jsx)(j.b,{exact:!0,path:"/products/:id",render:function(e){return Object(w.jsx)(Et,Object(s.a)(Object(s.a)({},e),{},{user:n}))}}),Object(w.jsx)(j.b,{path:"/products/:id/edit",render:function(e){return Object(w.jsx)(Rt,Object(s.a)(Object(s.a)({},e),{},{isEdit:!0}))}}),Object(w.jsx)(j.b,{exact:!0,path:"/contact",render:function(e){return Object(w.jsx)(Zt,Object(s.a)({},e))}}),Object(w.jsx)(j.b,{exact:!0,path:"/payments/create-payment-intent",render:function(e){return Object(w.jsx)(lt,Object(s.a)(Object(s.a)({},e),{},{itemToBuy:i}))}}),Object(w.jsx)(j.b,{path:"/500",component:Ht}),Object(w.jsx)(j.b,{component:qt})]}),Object(w.jsx)(xe,{})]})})}}]),n}(a.Component)),Kt=Object(j.g)(Xt);n(267);r.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(R.a,{theme:W,children:Object(w.jsx)(x.a,{children:Object(w.jsx)(Kt,{})})})}),document.getElementById("root"))}},[[268,1,2]]]);
//# sourceMappingURL=main.e1be6781.chunk.js.map